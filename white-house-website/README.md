# ã€Šç™½æˆ¿å­ã€‹DC ä¼åŠƒç¶²ç«™

åŸºæ–¼ Next.js é–‹ç™¼çš„æ²‰æµ¸å¼ TRPG ä¼åŠƒè³‡è¨Šå¹³å°ï¼Œæ•´åˆ Google Sheets ä½œç‚ºè³‡æ–™ä¾†æºï¼Œæ‰“é€ é«˜æ•ˆèƒ½ã€è¦–è¦ºæ²‰æµ¸ã€æ˜“æ–¼ GM ç®¡ç†çš„é‚ªæ•™ä¸»é¡ŒéŠæˆ²ç¶²ç«™ã€‚

## ğŸ¯ å°ˆæ¡ˆæ¦‚è¿°

ã€Šç™½æˆ¿å­ã€‹Discord ä¼åŠƒå®˜ç¶² - è‡ªç¨±ç‚ºã€Œé¸æ°‘å­¸é™¢ã€ï¼Œå¯¦éš›ç‚ºçœŸç†æ•™æ®˜é»¨æš—ä¸­é‹ç‡Ÿçš„æ´—è…¦åŸ¹è‚²ä¸­å¿ƒã€‚45åç©å®¶åˆ†ç‚ºä¸‰å€‹é™£ç‡Ÿé€²è¡Œå¤šç·šåŠ‡æƒ… TRPG éŠæˆ²ï¼ŒåŒ…å«å¿ƒç†é©šæ‚šã€é‚ªæ•™æ´—è…¦ã€é‡å£å‘³ç­‰æˆäººå…§å®¹ã€‚

### é™£ç‡Ÿç³»çµ±
- **èª¿æŸ¥å“¡ (10äºº)** - æ½›ä¼èª¿æŸ¥é‚ªæ•™çœŸç›¸
- **ç¥è·äººå“¡ (10äºº)** - åŸ·è¡Œæ´—è…¦èˆ‡ç®¡æ§ä»»å‹™  
- **å­©å­å€‘ (25äºº)** - æ±‚ç”Ÿå­˜çš„å—å®³è€…

## âœ¨ ä¸»è¦åŠŸèƒ½

### ğŸ  é¦–é  (`/`) - å…¨æ–°è¨­è¨ˆï¼
- ã€Œç™½å±‹é†«æ•™è‚²æˆå…’ç«¥ä¸­å¿ƒã€å®˜æ–¹å½¢è±¡å±•ç¤º
- å½¢è±¡è¼ªæ’­èˆ‡é«˜å“è³ªè¦–è¦ºæ•ˆæœ
- æœ€æ–°æ¶ˆæ¯å±•ç¤º (æ•´åˆ Announcements API)
- é»‘ç™½æ¥µç°¡é¢¨æ ¼ + å®Œæ•´éŸ¿æ‡‰å¼è¨­è¨ˆ
- å½ˆå‡ºè¦–çª—è©³ç´°æ–°èå…§å®¹
- è§¸æ§å‹å–„çš„æŒ‰éˆ•è¨­è¨ˆ

### ğŸ“– ä¼åŠƒä»‹ç´¹ (`/intro`)
- å®Œæ•´ä¼åŠƒèƒŒæ™¯ä¸–ç•Œè§€
- ä¸‰é™£ç‡Ÿè©³ç´°èªªæ˜
- æ ¸å¿ƒç©æ³•ç‰¹è‰²ä»‹ç´¹
- å ±åç›¸é—œè³‡è¨Š

### ğŸ“‹ æ ¸å¿ƒè¦å‰‡ (`/rules`)
- COC æ“²éª°åˆ¤å®šç³»çµ±
- HP/SAN/AP/BP æ•¸å€¼ç³»çµ±
- æ´—è…¦ç³»çµ±èˆ‡æ‡²ç½°æ©Ÿåˆ¶
- å…­å¤§å±¬æ€§åˆ¤å®šè¡¨

### ğŸ‘¥ éŠæˆ²åå–® (`/players`)
- ç©å®¶æ’åèˆ‡ç©åˆ†å±•ç¤º
- å¯†ç¢¼é©—è­‰æŸ¥è©¢ç³»çµ±
- ç©å®¶è©³ç´°è³‡æ–™é¡¯ç¤º
- å³æ™‚ Google Sheets åŒæ­¥

### ğŸ“¢ å‘Šç¤ºæ¿ (`/bulletin`)
- æœ€æ–°ä»»å‹™èˆ‡å…¬å‘Šç™¼å¸ƒ
- æŒ‰æ—¥æœŸæ’åºé¡¯ç¤º
- ä»»å‹™èˆ‡å…¬å‘Šåˆ†é¡
- å³æ™‚è³‡æ–™æ›´æ–°

### â“ å¸¸è¦‹å•é¡Œ (`/qa`)
- æœå°‹åŠŸèƒ½å•é¡Œè§£ç­”
- éŠæˆ²ç›¸é—œç–‘å•æ•´ç†
- å‹•æ…‹è³‡æ–™è¼‰å…¥

## ğŸ›  æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“
- **Framework**: Next.js 15.5.0 (App Router)
- **UI Library**: é»‘ç™½æ¥µç°¡è¨­è¨ˆ (ç§»é™¤ Ant Design ä¾è³´)
- **Language**: TypeScript + JavaScript
- **Styling**: CSS Modules + éŸ¿æ‡‰å¼è¨­è¨ˆ
- **Components**: è‡ªè£½å°èˆªå’Œ UI çµ„ä»¶

### å¾Œç«¯æŠ€è¡“
- **API**: Next.js API Routes (Serverless)
- **Database**: Google Sheets API v4
- **Authentication**: Google Service Account
- **Environment**: Vercel éƒ¨ç½²

### é–‹ç™¼å·¥å…·
- **Build Tool**: Turbopack
- **Linting**: ESLint 9
- **Package Manager**: npm

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚
- Node.js 18.0+
- npm æˆ– yarn
- Google Cloud Service Account

### å®‰è£æ­¥é©Ÿ

1. **å…‹éš†å°ˆæ¡ˆ**
   ```bash
   git clone <repository-url>
   cd white-house-website
   ```

2. **å®‰è£ä¾è³´**
   ```bash
   npm install
   ```

3. **è¨­å®šç’°å¢ƒè®Šæ•¸**
   
   å»ºç«‹ `.env.local` æª”æ¡ˆï¼š
   ```env
   GOOGLE_SHEETS_CREDENTIALS={"type":"service_account",...}
   SPREADSHEET_ID=your_google_sheets_id
   ```

4. **è¨­å®š Google Sheets API**
   
   - å»ºç«‹ Google Cloud å°ˆæ¡ˆ
   - å•Ÿç”¨ Google Sheets API
   - å»ºç«‹ Service Account ä¸¦ä¸‹è¼‰ credentials.json
   - å°‡ credentials.json å…§å®¹è¨­ç‚ºç’°å¢ƒè®Šæ•¸
   - èˆ‡ Google Sheets åˆ†äº« Service Account Email

5. **å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
   ```bash
   npm run dev
   ```
   
   é–‹å•Ÿ [http://localhost:3000](http://localhost:3000)

### Google Sheets è³‡æ–™çµæ§‹

#### åå–®å·¥ä½œè¡¨ (ç©å®¶è³‡æ–™)
| æ¬„ä½ | èªªæ˜ |
|------|------|
| PlayerID | ç©å®¶å”¯ä¸€è­˜åˆ¥ç¢¼ |
| PublicName | ç©å®¶é¡¯ç¤ºåç¨± |
| Password | å¯†ç¢¼é©—è­‰ |
| Score | ç©åˆ† |
| Rank | æ’å |
| Money | é‡‘éŒ¢ |
| Items | é“å…·åˆ—è¡¨ |
| Stats | èƒ½åŠ›å€¼ |

#### ä»»å‹™å·¥ä½œè¡¨ (Quest è³‡æ–™)
| æ¬„ä½ | èªªæ˜ |
|------|------|
| QuestID | ä»»å‹™è­˜åˆ¥ç¢¼ |
| Title | ä»»å‹™æ¨™é¡Œ |
| PublishDate | ç™¼å¸ƒæ—¥æœŸ |
| Content | ä»»å‹™å…§å®¹ |

#### å…¬å‘Šå·¥ä½œè¡¨ (Announcement è³‡æ–™)
| æ¬„ä½ | èªªæ˜ |
|------|------|
| AnnounceID | å…¬å‘Šè­˜åˆ¥ç¢¼ |
| Title | å…¬å‘Šæ¨™é¡Œ |
| PublishDate | ç™¼å¸ƒæ—¥æœŸ |
| Content | å…¬å‘Šå…§å®¹ |

#### QAå·¥ä½œè¡¨ (å¸¸è¦‹å•é¡Œ)
| æ¬„ä½ | èªªæ˜ |
|------|------|
| Q | å•é¡Œ |
| A | ç­”æ¡ˆ |

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/                 # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ announcements/   # æœ€æ–°æ¶ˆæ¯ API (NEW!)
â”‚   â”‚   â”œâ”€â”€ bulletin/        # å‘Šç¤ºæ¿ API
â”‚   â”‚   â”œâ”€â”€ players/         # ç©å®¶åˆ—è¡¨ API
â”‚   â”‚   â”œâ”€â”€ player-info/     # ç©å®¶è©³ç´°è³‡è¨Š API
â”‚   â”‚   â””â”€â”€ qa/              # å¸¸è¦‹å•é¡Œ API
â”‚   â”œâ”€â”€ about/               # é—œæ–¼æˆ‘å€‘é é¢
â”‚   â”œâ”€â”€ treatment/           # æ²»ç™‚ä»‹ç´¹é é¢
â”‚   â”œâ”€â”€ facilities/          # ç’°å¢ƒä»‹ç´¹é é¢
â”‚   â”œâ”€â”€ join/                # åŠ å…¥æˆ‘å€‘é é¢
â”‚   â”œâ”€â”€ resources/           # è³‡æºä¸­å¿ƒé é¢
â”‚   â”œâ”€â”€ page.tsx             # å…¨æ–°é¦–é  (é»‘ç™½æ¥µç°¡è¨­è¨ˆ)
â”‚   â”œâ”€â”€ page.module.css      # é¦–é æ¨£å¼
â”‚   â””â”€â”€ layout.tsx           # å…¨åŸŸä½ˆå±€
â”œâ”€â”€ components/              # å…±ç”¨å…ƒä»¶
â”‚   â”œâ”€â”€ Navigation.js        # éŸ¿æ‡‰å¼å°è¦½çµ„ä»¶ (é‡æ§‹)
â”‚   â””â”€â”€ Navigation.module.css # å°è¦½æ¨£å¼
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ sheets.js            # Google Sheets API å°è£
â””â”€â”€ public/
    â””â”€â”€ promotional-image.jpg # å½¢è±¡ç…§ç‰‡
```

## ğŸŒ API ç«¯é»

### æœ€æ–°æ¶ˆæ¯ API (NEW!)
```typescript
GET /api/announcements
Response: {
  success: boolean;
  data: Array<{
    id: string;
    title: string;
    content: string;
    author: string;
    created_date: string;
    is_active: string;
  }>;
}
```

### å…¬å‘Š API
```typescript
GET /api/bulletin
Response: {
  success: boolean;
  data: Array<{
    id: string;
    title: string;
    content: string;
    date: string;
    type: 'quest' | 'announcement';
  }>;
}
```

### ç©å®¶åˆ—è¡¨ API
```typescript
GET /api/players
Response: {
  success: boolean;
  data: Array<{
    id: string;
    name: string;
    score: number;
    rank: number;
  }>;
}
```

### ç©å®¶è©³ç´°è³‡è¨Š API
```typescript
GET /api/player-info?id={playerId}&password={password}
Response: {
  success: boolean;
  data: {
    id: string;
    name: string;
    score: number;
    money: number;
    items: string[];
    stats: string;
  };
}
```

### å¸¸è¦‹å•é¡Œ API
```typescript
GET /api/qa
Response: {
  success: boolean;
  data: Array<{
    question: string;
    answer: string;
  }>;
}
```

## ğŸ”§ éƒ¨ç½²èªªæ˜

### Vercel éƒ¨ç½²
1. æ¨é€è‡³ GitHub
2. é€£æ¥ Vercel å¸³æˆ¶
3. è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š
   - `GOOGLE_SHEETS_CREDENTIALS`
   - `SPREADSHEET_ID`
4. è‡ªå‹•éƒ¨ç½²

### ç’°å¢ƒè®Šæ•¸è¨­å®š
- **é–‹ç™¼ç’°å¢ƒ**: `.env.local`
- **ç”Ÿç”¢ç’°å¢ƒ**: Vercel Dashboard ç’°å¢ƒè®Šæ•¸

## ğŸ›¡ å®‰å…¨æ€§

- Google API æ†‘è­‰æª”æ¡ˆå·²åŠ å…¥ `.gitignore`
- å¯†ç¢¼é©—è­‰æ©Ÿåˆ¶ä¿è­·ç©å®¶è³‡æ–™
- API ç«¯é»éŒ¯èª¤è™•ç†èˆ‡è³‡æ–™é©—è­‰
- é©ç•¶çš„ CORS è¨­å®š

## ğŸ“Š æ•ˆèƒ½ç‰¹è‰²

- é¦–é è¼‰å…¥æ™‚é–“ < 2ç§’ (å„ªåŒ–å¾Œ)
- API å›æ‡‰æ™‚é–“ < 1ç§’
- æ”¯æ´ SSR å’Œ SSG
- å®Œæ•´éŸ¿æ‡‰å¼è¨­è¨ˆ (320px - 2560px+)
- è§¸æ§å‹å–„ç•Œé¢ (ç¬¦åˆ WCAG æ¨™æº–)
- åœ–ç‰‡å„ªåŒ–èˆ‡æ‡¶åŠ è¼‰
- CSS Modules å„ªåŒ–è¼‰å…¥
- ç„¡éšœç¤™è¨­è¨ˆæ”¯æ´

## ğŸ® ä¼åŠƒç‰¹è‰²

### éŠæˆ²æ©Ÿåˆ¶
- COC æ“²éª°åˆ¤å®šç³»çµ±
- æ´—è…¦ç³»çµ± (SAN å€¼æ©Ÿåˆ¶)
- å¯†ç¢¼é©—è­‰æŸ¥è©¢
- å³æ™‚è³‡æ–™åŒæ­¥

### é™£ç‡Ÿå°æŠ—
- å¤šç·šåŠ‡æƒ…äº’å‹•
- ç§äººé »é“åˆ†é›¢
- æ—¥å¸¸å„€å¼èˆ‡è¦å‰‡ç¶­æŒ
- åœ°åœ–æ¢ç´¢ç³»çµ±

## ğŸ“ é–‹ç™¼ç‹€æ…‹

### âœ… å·²å®ŒæˆåŠŸèƒ½
- [x] Next.js å°ˆæ¡ˆç’°å¢ƒè¨­å®š
- [x] Google Sheets API æ•´åˆ
- [x] Ant Design UI çµ„ä»¶åº«
- [x] å®Œæ•´é é¢æ¶æ§‹å¯¦ç¾
- [x] API ç«¯é»é–‹ç™¼
- [x] éŸ¿æ‡‰å¼è¨­è¨ˆ
- [x] Vercel éƒ¨ç½²è¨­å®š

### âœ… æœ€æ–°æ›´æ–° (2025-09-04)
- [x] **å…¨æ–°é¦–é è¨­è¨ˆ** - é»‘ç™½æ¥µç°¡é¢¨æ ¼ï¼Œå®Œæ•´éŸ¿æ‡‰å¼å¸ƒå±€
- [x] **é‡æ§‹å°èˆªç³»çµ±** - æ¡Œé¢ç‰ˆ sticky slider + æ‰‹æ©Ÿç‰ˆå‹•ç•«é¸å–®  
- [x] **æ–°èç³»çµ±å‡ç´š** - API ç«¯é» + å½ˆå‡ºè¦–çª—è©³ç´°å…§å®¹
- [x] **è§¸æ§å‹å–„å„ªåŒ–** - æ‰€æœ‰æŒ‰éˆ•ç¬¦åˆç„¡éšœç¤™æ¨™æº– (44px+ è§¸æ§å€åŸŸ)
- [x] **ä¿®å¾©å±¤ç´šå•é¡Œ** - è§£æ±ºæ‰‹æ©Ÿç‰ˆå°èˆªé˜»æ“‹é»æ“Šçš„å•é¡Œ
- [x] **SSR å„ªåŒ–** - ä¿®å¾© hydration éŒ¯èª¤ï¼Œæ”¹å–„è¼‰å…¥é«”é©—
- [x] **TypeScript éŒ¯èª¤ä¿®å¾©** - ä¿®å¾©éƒ¨ç½²æ™‚çš„é¡å‹å®šç¾©å•é¡Œ
- [x] **Vercel éƒ¨ç½²å„ªåŒ–** - è§£æ±ºç”Ÿç”¢ç’°å¢ƒç·¨è­¯éŒ¯èª¤
- [x] **ESLint è¦å‰‡ç›¸å®¹** - æ–°å¢ Announcement ä»‹é¢ï¼Œç¬¦åˆ no-explicit-any è¦å‰‡
- [x] **ä»£ç¢¼å“è³ªæå‡** - å®Œå–„é¡å‹è¨»è§£ï¼Œç§»é™¤æœªä½¿ç”¨åƒæ•¸

### âœ… å…ˆå‰æ›´æ–° (2025-09-01)
- [x] **ä¿®æ­£å¤šäººéŠæˆ²ä½µç™¼è¡çªå•é¡Œ** - å¯¦ç¾ä½µç™¼å®‰å…¨çš„æˆ°å½¹ç³»çµ±
- [x] **æ–°å¢ Session ç®¡ç†** - æ”¯æ´ç©å®¶é‡è¤‡éŠæˆ²
- [x] **æ¨‚è§€é–å®šæ©Ÿåˆ¶** - é˜²æ­¢è³‡æ–™ç«¶æ…‹æ¢ä»¶
- [x] **å€‹äººåŒ–é¸æ“‡æ­·å²** - ç©å®¶é¸æ“‡ä¸å†äº’ç›¸å½±éŸ¿

### ğŸš€ æœªä¾†å„ªåŒ–
- [ ] å¯¦ä½œå…¶ä»–é é¢ (é—œæ–¼æˆ‘å€‘ã€æ²»ç™‚ä»‹ç´¹ç­‰)
- [ ] å‰ç«¯å¿«å–å’Œæ•ˆèƒ½å„ªåŒ–
- [ ] å¯¦ä½œå³æ™‚é€šçŸ¥åŠŸèƒ½
- [ ] æ–°å¢ç®¡ç†å“¡å¾Œå°åŠŸèƒ½
- [ ] å¤šèªè¨€æ”¯æ´

## ğŸ“„ æˆæ¬Š

ã€Šç™½æˆ¿å­ã€‹DC ä¼åŠƒ Â© 2025

Built with Next.js + CSS Modules + Google Sheets API

---

**âš ï¸ é‡è¦æé†’**
æœ¬ä¼åŠƒåŒ…å«å¿ƒç†é©šæ‚šã€é‚ªæ•™æ´—è…¦ã€é‡å£å‘³ç­‰æˆäººå…§å®¹ï¼Œé©åˆå¹´æ»¿ 18 æ­²ä¸”å¿ƒç†æ‰¿å—èƒ½åŠ›è‰¯å¥½çš„ç©å®¶åƒèˆ‡ã€‚